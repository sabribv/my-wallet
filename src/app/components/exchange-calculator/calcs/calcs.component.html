<ng-template #loading>
  <div class="progress-bar">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
</ng-template>
<div class="container" *ngIf="calculations$ | async as calculations; else loading">
  <div class="page-actions">
    <button mat-icon-button routerLink="/calculator/create">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <div class="list">
    <mat-card class="section" *ngIf="calculations.length > 0">
      <mat-card-content>
        <mat-nav-list>
          <a mat-list-item *ngFor="let calculation of calculations" class="list-item-link"
             [routerLink]="['/calculator/edit', calculation.id]">
            <div matListItemTitle class="list-item-title">
              <span>{{ calculation?.note }}</span>
              <span>{{ calculation?.amount | currency }} USD</span>
            </div>
            <span matListItemLine class="list-item-line">
              <span>{{ calculation.date | date }}</span>
              <span>{{ calculation.amount * calculation.rate | currency }} ARS</span>
            </span>
          </a>
        </mat-nav-list>
      </mat-card-content>
    </mat-card>
  </div>
</div>
